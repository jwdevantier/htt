<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTT Documentation</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.min.js" defer></script>
    <style>
        html, body { height: 100%; }
    </style>
</head>
<body class="bg-white flex flex-col h-full" x-data="initState()">
    <!-- Mobile top bar -->
    <div class="md:hidden fixed top-0 left-0 right-0 bg-white border-b border-gray-300 shadow-md shadow-gray-300/50 z-50">
        <div class="flex justify-between items-center p-4">
            <button @click="mobileMenuOpen = !mobileMenuOpen" class="text-gray-500">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                </svg>
            </button>
            <h1 class="text-lg font-semibold">HTT Documentation</h1>
        </div>
    </div>

    <!-- Mobile menu overlay -->
    <div x-show="mobileMenuOpen" class="fixed inset-0 bg-black bg-opacity-30 z-40 md:hidden" @click="mobileMenuOpen = false"></div>

    <div class="flex flex-1 overflow-hidden">
        <!-- Sidebar (desktop) / Mobile menu -->
        <div :class="{'fixed inset-y-0 left-0 transform translate-x-0 z-50': mobileMenuOpen, 'fixed inset-y-0 left-0 transform -translate-x-full z-50': !mobileMenuOpen, 'md:relative md:translate-x-0': true}"
             class="bg-gray-100 w-64 flex-shrink-0 border-r border-gray-200 transition-transform duration-300 ease-in-out overflow-y-auto h-full">
            <div class="pl-4">
                <nav class="text-sm">
                    <ul>
                        <li class="hover:bg-gray-200"><a href="/htt/" class="pl-2 text-blue-600 block w-full h-full py-2">What is HTT?</a></li>
                        <li class="hover:bg-gray-200"><a href="/htt/setup" class="pl-2 text-blue-600 block w-full h-full py-2">Setup</a></li>
                        <li class="hover:bg-gray-200"><a href="/htt/quick-start" class="pl-2 text-blue-600 block w-full h-full py-2">Quick Start</a></li>
                        <li>
                            <div @click="openSections.includes('Handbook') ? openSections = openSections.filter(i => i !== 'Handbook') : openSections.push('Handbook')"
                                    class="pl-2 flex justify-between items-center cursor-pointer text-blue-600 hover:bg-gray-200 py-2">
                                <span>Handbook</span>
                                <svg x-show="!openSections.includes('Handbook')" class="w-4 h-4 text-gray-500 mr-2" viewBox="0 0 24 24">
                                    <path fill="currentColor" d="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z" />
                                </svg>
                                <svg x-show="openSections.includes('Handbook')" class="w-4 h-4 text-gray-500 mr-2" viewBox="0 0 24 24">
                                    <path fill="currentColor" d="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z" />
                                </svg>
                            </div>
                            <ul x-show="openSections.includes('Handbook')" class="ml-2">
                                <li class="hover:bg-gray-200 pl-2"><a href="/htt/handbook/syntax-recap" class="text-gray-500 block w-full h-full py-2">Syntax Recap</a></li>
                                <li class="hover:bg-gray-200 pl-2"><a href="/htt/handbook/debug" class="text-gray-500 block w-full h-full py-2">Debug</a></li>
                                <li class="hover:bg-gray-200 pl-2"><a href="/htt/handbook/modules-and-files" class="text-gray-500 block w-full h-full py-2">Modules and files</a></li>
                            </ul>
                        </li>
                        <li>
                            <div @click="openSections.includes('Examples') ? openSections = openSections.filter(i => i !== 'Examples') : openSections.push('Examples')"
                                    class="pl-2 flex justify-between items-center cursor-pointer text-blue-600 hover:bg-gray-200 py-2">
                                <span>Examples</span>
                                <svg x-show="!openSections.includes('Examples')" class="w-4 h-4 text-gray-500 mr-2" viewBox="0 0 24 24">
                                    <path fill="currentColor" d="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z" />
                                </svg>
                                <svg x-show="openSections.includes('Examples')" class="w-4 h-4 text-gray-500 mr-2" viewBox="0 0 24 24">
                                    <path fill="currentColor" d="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z" />
                                </svg>
                            </div>
                            <ul x-show="openSections.includes('Examples')" class="ml-2">
                                <li class="hover:bg-gray-200 pl-2"><a href="/htt/examples/implementing-types-in-go" class="text-gray-500 block w-full h-full py-2">Implementing types in Go</a></li>
                            </ul>
                        </li>
                        <li>
                            <div @click="openSections.includes('API Documentation') ? openSections = openSections.filter(i => i !== 'API Documentation') : openSections.push('API Documentation')"
                                    class="pl-2 flex justify-between items-center cursor-pointer text-blue-600 hover:bg-gray-200 py-2">
                                <span>API Documentation</span>
                                <svg x-show="!openSections.includes('API Documentation')" class="w-4 h-4 text-gray-500 mr-2" viewBox="0 0 24 24">
                                    <path fill="currentColor" d="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z" />
                                </svg>
                                <svg x-show="openSections.includes('API Documentation')" class="w-4 h-4 text-gray-500 mr-2" viewBox="0 0 24 24">
                                    <path fill="currentColor" d="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z" />
                                </svg>
                            </div>
                            <ul x-show="openSections.includes('API Documentation')" class="ml-2">
                                <li class="hover:bg-gray-200 pl-2"><a href="/htt/api-documentation/htt-str" class="text-gray-500 block w-full h-full py-2 font-bold">htt.str</a></li>
                                <li class="hover:bg-gray-200 pl-2"><a href="/htt/api-documentation/htt-env" class="text-gray-500 block w-full h-full py-2">htt.env</a></li>
                                <li class="hover:bg-gray-200 pl-2"><a href="/htt/api-documentation/htt-tcp" class="text-gray-500 block w-full h-full py-2">htt.tcp</a></li>
                                <li class="hover:bg-gray-200 pl-2"><a href="/htt/api-documentation/htt-time" class="text-gray-500 block w-full h-full py-2">htt.time</a></li>
                                <li class="hover:bg-gray-200 pl-2"><a href="/htt/api-documentation/htt-fs" class="text-gray-500 block w-full h-full py-2">htt.fs</a></li>
                                <li class="hover:bg-gray-200 pl-2"><a href="/htt/api-documentation/htt-is" class="text-gray-500 block w-full h-full py-2">htt.is</a></li>
                                <li class="hover:bg-gray-200 pl-2"><a href="/htt/api-documentation/htt-json" class="text-gray-500 block w-full h-full py-2">htt.json</a></li>
                            </ul>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>

        <!-- Main Content -->
        <div class="flex-1 overflow-y-auto p-4 md:p-10 mt-16 md:mt-0">
            <div class="max-w-2xl mx-auto">
            <h1 class="text-3xl font-bold mb-5">htt.str</h1>
            <ul x-data="initApiModuleState()">
            <li>
              <div @click="openApiDefs[0] = !openApiDefs[0]" class="flex justify-left items-center cursor-pointer py-2">
                <svg x-show="!openApiDefs[0]" class="w-4 h-4 text-gray-500 mr-2" viewBox="0 0 24 24">
                    <path fill="currentColor" d="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z" />
                </svg>
                <svg x-show="openApiDefs[0]" class="w-4 h-4 text-gray-500 mr-2" viewBox="0 0 24 24">
                    <path fill="currentColor" d="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z" />
                </svg>
                <span><span class="bg-blue-100 text-blue-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded">Fn</span><code class="font-mono font-bold text-gray-700 hover:text-blue-600">join(string, table) &rarr; string</code></span>
              </div>
              <div x-show="openApiDefs[0]" class="pl-2 mb-4">
              <p class="mb-2">
              True iff. `value` is null.
                </p>
              <div>
              <span class="text-sm text-gray-600 mb-1">Parameters</span>
              </div>
              <ul class="list-disc list-inside">
              <li><span class="font-mono font-bold text-gray-700">sep: string</span>
                <ul class="list-inside ml-4"><li>string to insert between each concatenated element</li></ul></li>
              <li><span class="font-mono font-bold text-gray-700">list: table</span>
                <ul class="list-inside ml-4"><li>a list of strings to concatenate</li></ul></li>
              </ul>
              <div>
              <span class="text-sm text-gray-600 mb-1">Returns</span>
              </div>
              <ul class="list-disc list-inside">
              <li><span class="font-mono font-bold text-gray-700">string</span>
                <ul class="list-inside ml-4"><li>concatenated strings</li></ul></li>
              </ul>
              </div>
            </li>
            <li>
              <div @click="openApiDefs[1] = !openApiDefs[1]" class="flex justify-left items-center cursor-pointer py-2">
                <svg x-show="!openApiDefs[1]" class="w-4 h-4 text-gray-500 mr-2" viewBox="0 0 24 24">
                    <path fill="currentColor" d="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z" />
                </svg>
                <svg x-show="openApiDefs[1]" class="w-4 h-4 text-gray-500 mr-2" viewBox="0 0 24 24">
                    <path fill="currentColor" d="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z" />
                </svg>
                <span><span class="bg-blue-100 text-blue-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded">Fn</span><code class="font-mono font-bold text-gray-700 hover:text-blue-600">stringify(any, string) &rarr; string</code></span>
              </div>
              <div x-show="openApiDefs[1]" class="pl-2 mb-4">
              <p class="mb-2">
              Converts a Lua value into a formatted string representation with proper indentation.</p>
              <p class="mb-2">
              Note: handles the formatting of tables and strings. Will use tostring() otherwise.
                </p>
              <div>
              <span class="text-sm text-gray-600 mb-1">Parameters</span>
              </div>
              <ul class="list-disc list-inside">
              <li><span class="font-mono font-bold text-gray-700">value: any</span>
                <ul class="list-inside ml-4"><li>The Lua value to stringify (table, string, number, etc.)</li></ul></li>
              <li><span class="font-mono font-bold text-gray-700">indentation: string</span>
                <ul class="list-inside ml-4"><li>The base indentation prefix for each line of output</li></ul></li>
              </ul>
              <div>
              <span class="text-sm text-gray-600 mb-1">Returns</span>
              </div>
              <ul class="list-disc list-inside">
              <li><span class="font-mono font-bold text-gray-700">string</span>
                <ul class="list-inside ml-4"><li>The formatted string representation of the value</li></ul></li>
              </ul>
              </div>
            </li>
            <li>
              <div @click="openApiDefs[2] = !openApiDefs[2]" class="flex justify-left items-center cursor-pointer py-2">
                <svg x-show="!openApiDefs[2]" class="w-4 h-4 text-gray-500 mr-2" viewBox="0 0 24 24">
                    <path fill="currentColor" d="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z" />
                </svg>
                <svg x-show="openApiDefs[2]" class="w-4 h-4 text-gray-500 mr-2" viewBox="0 0 24 24">
                    <path fill="currentColor" d="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z" />
                </svg>
                <span><span class="bg-blue-100 text-blue-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded">Fn</span><code class="font-mono font-bold text-gray-700 hover:text-blue-600">starts_with(string, string) &rarr; boolean</code></span>
              </div>
              <div x-show="openApiDefs[2]" class="pl-2 mb-4">
              <p class="mb-2">
              Returns whether the string begins with the specified prefix
                </p>
              <div>
              <span class="text-sm text-gray-600 mb-1">Parameters</span>
              </div>
              <ul class="list-disc list-inside">
              <li><span class="font-mono font-bold text-gray-700">str: string</span>
                <ul class="list-inside ml-4"><li>The string to check</li></ul></li>
              <li><span class="font-mono font-bold text-gray-700">prefix: string</span>
                <ul class="list-inside ml-4"><li>The prefix to look for at the start of the string</li></ul></li>
              </ul>
              <div>
              <span class="text-sm text-gray-600 mb-1">Returns</span>
              </div>
              <ul class="list-disc list-inside">
              <li><span class="font-mono font-bold text-gray-700">boolean</span>
                <ul class="list-inside ml-4"><li>true if str starts with prefix, false otherwise</li></ul></li>
              </ul>
              </div>
            </li>
            </ul>
            <script>
            function initApiModuleState() {
              return {
                openApiDefs: [false, false, false],
              }
            }
            </script>
            </div>
        </div>
    </div>
    <script>
        function initState() {
            return {
                mobileMenuOpen: false,
                openSections: ['API Documentation']
            }
        }

document.addEventListener('DOMContentLoaded', function() {
  document.querySelectorAll('pre.code-block code').forEach((codeBlock) => {
    let lines = codeBlock.innerHTML.split('\n');

    // Find the minimum non-zero indentation, ignoring the first line
    const minIndent = lines.slice(1).reduce((min, line) => {
      const indent = line.match(/^\s*/)[0].length;
      return (line.trim().length && indent < min) ? indent : min;
    }, Infinity);

    // Process lines: keep first line as is, remove minIndent from others
    const processedLines = [
      lines[0],
      ...lines.slice(1).map(line => {
        const currentIndent = line.match(/^\s*/)[0].length;
        return line.slice(Math.min(currentIndent, minIndent));
      })
    ];

    codeBlock.innerHTML = processedLines.join('\n');
  });
});
    </script>
</body>
</html>